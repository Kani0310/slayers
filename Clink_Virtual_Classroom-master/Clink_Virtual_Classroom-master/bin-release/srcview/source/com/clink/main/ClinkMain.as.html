<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>ClinkMain.as</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">main</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">base</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Base_componentToolTip</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">controllers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Controller_Dragable</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SharedObjectEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SideBarEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">factories</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Factory_prettyBox</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loaders</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">EasyXmlLoader</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loaders</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loaderEvents</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">XmlComplete_Event</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Manager_remoteCommonSharedObject</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">managers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Manager_remoteUserSharedObject</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">misc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Keys</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">misc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MacMouseWheelHandler</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">module</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Module_Controller</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">BasicButton</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">LayoutBox</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ScrollBar</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ScrollBox</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ScrollList</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">DrawingUtils</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ParseConfigXML</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">StringUtils</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">valueObjects</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VO_ModuleApi</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">com</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">clink</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">valueObjects</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">VO_Settings</span>;
    
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">display</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Sprite</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">display</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Stage</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Event</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">MouseEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">NetStatusEvent</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">media</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Camera</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">net</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">NetConnection</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">net</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Responder</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">system</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Security</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">system</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SecurityPanel</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Font</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TextField</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TextFieldAutoSize</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TextFieldType</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TextFormat</span>;
    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">ui</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">Keyboard</span>;
    
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">ClinkMain</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">Sprite</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptComment">//netConnection
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_nc</span>:<span class="ActionScriptDefault_Text">NetConnection</span>;
        
        <span class="ActionScriptComment">//connection info
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_appURL</span>:<span class="ActionScriptDefault_Text">String</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_username</span>:<span class="ActionScriptDefault_Text">String</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_classId</span>:<span class="ActionScriptDefault_Text">String</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_serverUserID</span>:<span class="ActionScriptDefault_Text">int</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_userPermission</span>:<span class="ActionScriptDefault_Text">String</span>;
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_configInfo</span>:<span class="ActionScriptDefault_Text">VO_Settings</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_moduleApiInfo</span>:<span class="ActionScriptDefault_Text">VO_ModuleApi</span>;
        
        <span class="ActionScriptComment">//stage
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_stage</span>:<span class="ActionScriptDefault_Text">Stage</span>;
        
        <span class="ActionScriptComment">//ui elements
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_sidebar</span>:<span class="ActionScriptDefault_Text">Main_SideBar</span>;
        
        <span class="ActionScriptComment">//constants
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">TEACHER_PERMISSION</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"teacher"</span>;
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptReserved">const</span> <span class="ActionScriptDefault_Text">STUDENT_PERMISSION</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"student"</span>;
        
        
        <span class="ActionScriptComment">//for demo purposes
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sl</span>:<span class="ActionScriptDefault_Text">sampleLogin</span>;
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">ClinkMain</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">stage</span>:<span class="ActionScriptDefault_Text">Stage</span><span class="ActionScriptBracket/Brace">)</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">super</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;

            
            <span class="ActionScriptDefault_Text">_stage</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">stage</span>;
            
            <span class="ActionScriptDefault_Text">loadConfig</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptComment">//this will normally be handled by php, and will be if I have the time.
</span>            <span class="ActionScriptComment">//setUpSampleLogin();
</span>        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">///////////////////////////////////////TEST LOGIN//////////////////////////////////////////
</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setUpSampleLogin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">sl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">sampleLogin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_stage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">stageWidth</span><span class="ActionScriptOperator">/</span>2 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">/</span>2;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 100;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tf_username</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">maxChars</span> <span class="ActionScriptOperator">=</span> 15;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tf_username</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">multiline</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tf_username</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wordWrap</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">btn_submit</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">buttonMode</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">btn_submit</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mouseChildren</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">btn_submit</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CLICK</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">onSubmit</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onSubmit</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>:<span class="ActionScriptDefault_Text">MouseEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">_username</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">StringUtils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">trimLineBreaks</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tf_username</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">" "</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">join</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"_"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_username</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_username</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">" "</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">join</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">removeChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sl</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">loadConfig</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptComment">///////////////////////////////////////END TEST LOGIN//////////////////////////////////////////
</span>        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">loadConfig</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">//passed in via flash vars or read from database
</span>            <span class="ActionScriptDefault_Text">_username</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"Adam"</span>;
            <span class="ActionScriptDefault_Text">_userPermission</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ClinkMain</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">TEACHER_PERMISSION</span>;
            
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">VO_ModuleApi</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xl</span>:<span class="ActionScriptDefault_Text">EasyXmlLoader</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">EasyXmlLoader</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"config.xml"</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">xl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">XmlComplete_Event</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">XML_LOADED</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">parseConfigXML</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            <span class="ActionScriptDefault_Text">_classId</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classId</span>;
            
            <span class="ActionScriptComment">//pops up a settings menu asking for camera permission
</span>            <span class="ActionScriptDefault_Text">Security</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">showSettings</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SecurityPanel</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PRIVACY</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//initialize scrollbars
</span>            <span class="ActionScriptDefault_Text">ScrollBar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">initScrollBars</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//initialize keyboard class
</span>            <span class="ActionScriptDefault_Text">Keys</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_stage</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//fixes the mac mouse wheel scrolling issue
</span>            <span class="ActionScriptDefault_Text">MacMouseWheelHandler</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_stage</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//init buttons
</span>            <span class="ActionScriptDefault_Text">BasicButton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//init tooltips
</span>            <span class="ActionScriptDefault_Text">Base_componentToolTip</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">initTooltips</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_stage</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">//init sharedObject managers
</span>            <span class="ActionScriptDefault_Text">Manager_remoteCommonSharedObject</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_classId</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">Manager_remoteUserSharedObject</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_classId</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptComment">//These values are colors that are set with the config.xml
</span>            <span class="ActionScriptDefault_Text">BasicButton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">isGradient</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_isGradient</span>;
            <span class="ActionScriptDefault_Text">BasicButton</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setButtonColors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_upStateColor</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_downStateColor</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_overStateColor</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">ScrollBar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setScrollBarColors</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_buttonColor</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_trackColor</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_arrowColor</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_handleColor</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">Base_componentToolTip</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bgColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_bgColor</span>;
            <span class="ActionScriptDefault_Text">Base_componentToolTip</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_textColor</span>;
            <span class="ActionScriptDefault_Text">Base_componentToolTip</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">textSize</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_textSize</span>;
            <span class="ActionScriptDefault_Text">Base_componentToolTip</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTipDisplayDelay</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_displayDelay</span>;
            
            <span class="ActionScriptDefault_Text">_appURL</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">appURL</span>;
            
            <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">username</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_username</span>;
            <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userPermission</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_userPermission</span>;
            
            <span class="ActionScriptComment">//connect the NetConnection to the Red5 server
</span>            <span class="ActionScriptDefault_Text">_nc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">NetConnection</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_nc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">client</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">this</span>;
            <span class="ActionScriptDefault_Text">_nc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">connect</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_appURL</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_username</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">_classId</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_nc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">NetStatusEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">NET_STATUS</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">netStatusHandler</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">netConnection</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_nc</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptComment">//called by the server and assigns a user ID
</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setUserId</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">value</span>:<span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"[Red5][Connect] Your user ID is: "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">value</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_serverUserID</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">value</span>;
            
            <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userID</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_serverUserID</span>;
            
            <span class="ActionScriptComment">//set up ui elements
</span>            <span class="ActionScriptDefault_Text">setUpSidebar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            
            
            <span class="ActionScriptComment">//testing purposes only////////////////////////////////////////////////////////////////////////////////////
</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_tf</span>:<span class="ActionScriptDefault_Text">TextField</span>;
            <span class="ActionScriptDefault_Text">_tf</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TextField</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">text</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_username</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"("</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userID</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">")"</span>;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">maxChars</span> <span class="ActionScriptOperator">=</span> 20;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span> <span class="ActionScriptOperator">=</span> 14;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span> <span class="ActionScriptOperator">=</span> 145;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> 7;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> 4;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">selectable</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">mouseEnabled</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;
            
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">hv</span>:<span class="ActionScriptDefault_Text">Font</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">HelveticaRegular</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_tff1</span>:<span class="ActionScriptDefault_Text">TextFormat</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">TextFormat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hv</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fontName</span><span class="ActionScriptOperator">,</span>12<span class="ActionScriptOperator">,</span>0xffffff<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptBracket/Brace">)</span>;
            
            <span class="ActionScriptDefault_Text">_tf</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">setTextFormat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_tff1</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptComment">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
</span>        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">setUpSidebar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>    
            
            <span class="ActionScriptDefault_Text">_sidebar</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Main_SideBar</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_sidebar</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_sidebar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_stage</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">stageWidth</span><span class="ActionScriptOperator">/</span>2 <span class="ActionScriptOperator">+</span> 960<span class="ActionScriptOperator">/</span>2<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_sidebar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span>;
            
            <span class="ActionScriptDefault_Text">_sidebar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SideBarEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">CHAT_SO_LOADED</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">sidebarSOLoaded</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">_sidebar</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">SideBarEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">USER_SO_LOADED</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">sidebarSOLoaded</span><span class="ActionScriptBracket/Brace">)</span>;
        
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">loadModules</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">//load values into the moduleApiInfo VO that needs to be shared to the modules api
</span>            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_isGradient</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_isGradient</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_upStateColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_upStateColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_downStateColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_downStateColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_overStateColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">basicButton_overStateColor</span>;
            
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_buttonColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_buttonColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_arrowColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_arrowColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_trackColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_trackColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_handleColor</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">scrollBar_handleColor</span>;
            
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_bgColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_bgColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_textColor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_textColor</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_textSize</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_textSize</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_displayDelay</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toolTip_displayDelay</span>;
            
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">appURL</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">appURL</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classId</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">classId</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">username</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">username</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userPermission</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userPermission</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userID</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userID</span>;
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">modulePath</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">modulePath</span>;
            
            <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">netConnection</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_configInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">netConnection</span>;
            
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">moduleController</span>:<span class="ActionScriptDefault_Text">Module_Controller</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Module_Controller</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptBracket/Brace">)</span>;
            
        <span class="ActionScriptBracket/Brace">}</span>
        
        
        <span class="ActionScriptComment">//////////////////////////Call backs///////////////////////////////
</span>        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">sidebarSOLoaded</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>:<span class="ActionScriptDefault_Text">SideBarEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptComment">//
</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userSO</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userSO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userSO</span>;;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">chatSO</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">chatSO</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">chatSO</span>;
            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">chatSO</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">_moduleApiInfo</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">userSO</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptDefault_Text">loadModules</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">parseConfigXML</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>:<span class="ActionScriptDefault_Text">XmlComplete_Event</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">_configInfo</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ParseConfigXML</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">parseConfig</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loadedXML</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">onBWDone</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">netStatusHandler</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span>:<span class="ActionScriptDefault_Text">NetStatusEvent</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">info</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">code</span><span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">info</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">code</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"NetConnection.Connect.Success"</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScriptComment">///instead of calling a method here after connection success, we call it when the userID gets passed
</span>            <span class="ActionScriptBracket/Brace">}</span>
            
            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">e</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">info</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">code</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"NetConnection.Connect.Failed"</span><span class="ActionScriptBracket/Brace">)</span>
            <span class="ActionScriptBracket/Brace">{</span>
                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"connection failed!!"</span><span class="ActionScriptBracket/Brace">)</span>;
                
                <span class="ActionScriptComment">//display some sort of error message
</span>            <span class="ActionScriptBracket/Brace">}</span>
        <span class="ActionScriptBracket/Brace">}</span>
    <span class="ActionScriptBracket/Brace">}</span>
<span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
